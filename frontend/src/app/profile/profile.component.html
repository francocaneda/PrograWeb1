<div class="container">
    <!-- Header del Perfil -->
    <div class="profile-header">
        <img [src]="apiUrl + '/' + avatar" alt="Avatar del usuario" class="profile-avatar" id="userAvatar" />
        <h1 class="profile-username" id="userName"></h1>
        <span class="profile-role" id="userRole">{{ userNameWeb }}</span>
        <p class="profile-fullname" id="userFullname"></p>
    </div>

    <!-- Información del Perfil -->
    <div class="profile-info">
        <div class="info-card">
            <div class="info-label">
                <span class="info-icon"><i class="bi bi-person-circle"></i></span>
                Nombre: {{ nombre }} {{ apellido }}
            </div>
            <div class="info-value" id="userEmail"></div>
        </div>

        <div class="info-card">
            <div class="info-label">
                <span class="info-icon"><i class="bi bi-cake2-fill"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-cake2-fill" viewBox="0 0 16 16">
                            <path
                                d="m2.899.804.595-.792.598.79A.747.747 0 0 1 4 1.806v4.886q-.532-.09-1-.201V1.813a.747.747 0 0 1-.1-1.01ZM13 1.806v4.685a15 15 0 0 1-1 .201v-4.88a.747.747 0 0 1-.1-1.007l.595-.792.598.79A.746.746 0 0 1 13 1.806m-3 0a.746.746 0 0 0 .092-1.004l-.598-.79-.595.792A.747.747 0 0 0 9 1.813v5.17q.512-.02 1-.055zm-3 0v5.176q-.512-.018-1-.054V1.813a.747.747 0 0 1-.1-1.01l.595-.79.598.789A.747.747 0 0 1 7 1.806" />
                            <path
                                d="M4.5 6.988V4.226a23 23 0 0 1 1-.114V7.16c0 .131.101.24.232.25l.231.017q.498.037 1.02.055l.258.01a.25.25 0 0 0 .26-.25V4.003a29 29 0 0 1 1 0V7.24a.25.25 0 0 0 .258.25l.259-.009q.52-.018 1.019-.055l.231-.017a.25.25 0 0 0 .232-.25V4.112q.518.047 1 .114v2.762a.25.25 0 0 0 .292.246l.291-.049q.547-.091 1.033-.208l.192-.046a.25.25 0 0 0 .192-.243V4.621c.672.184 1.251.409 1.677.678.415.261.823.655.823 1.2V13.5c0 .546-.408.94-.823 1.201-.44.278-1.043.51-1.745.696-1.41.376-3.33.603-5.432.603s-4.022-.227-5.432-.603c-.702-.187-1.305-.418-1.745-.696C.408 14.44 0 14.046 0 13.5v-7c0-.546.408-.94.823-1.201.426-.269 1.005-.494 1.677-.678v2.067c0 .116.08.216.192.243l.192.046q.486.116 1.033.208l.292.05a.25.25 0 0 0 .291-.247M1 8.82v1.659a1.935 1.935 0 0 0 2.298.43.935.935 0 0 1 1.08.175l.348.349a2 2 0 0 0 2.615.185l.059-.044a1 1 0 0 1 1.2 0l.06.044a2 2 0 0 0 2.613-.185l.348-.348a.94.94 0 0 1 1.082-.175c.781.39 1.718.208 2.297-.426V8.833l-.68.907a.94.94 0 0 1-1.17.276 1.94 1.94 0 0 0-2.236.363l-.348.348a1 1 0 0 1-1.307.092l-.06-.044a2 2 0 0 0-2.399 0l-.06.044a1 1 0 0 1-1.306-.092l-.35-.35a1.935 1.935 0 0 0-2.233-.362.935.935 0 0 1-1.168-.277z" />
                        </svg></i></span>
                Fecha de nacimiento: {{ fechaNacimiento }}
            </div>
            <div class="info-value" id="userBirthdate"></div>
        </div>

        <div class="info-card">
            <div class="info-label">
                <span class="info-icon"><i class="bi bi-calendar-heart"></i></span>
                Miembro desde {{ formatFechaLarga(fechaRegistro) }}
            </div>
            <div class="info-value" id="userJoinDate"></div>
        </div>

        <div class="info-card">
            <div class="info-label">
                <span class="info-icon"><i class="bi bi-envelope-at-fill"></i></span>
                Correo: {{ email }}
            </div>
            <div class="info-value" id="userStatus"></div>
        </div>
    </div>

    <!-- Biografía -->
    <div class="biography-section">
        <h2 class="biography-title">
            <span class="info-icon">📖</span>
            Biografia: {{ bio }}
        </h2>
        <div class="biography-content" id="userBiography"></div>
    </div>

    <!-- Botones de Acción -->
    <div class="action-buttons">
        <button class="action-btn" (click)="irEditarPerfil()">
            <span>✏️</span>
            Editar Perfil.
        </button>
        <button  type="button" class="action-btn secondary" (click)="irCambiarContrasena()">
            <span>🔒</span>
            Cambiar Contraseña
        </button>
        <button class="action-btn" (click)="viewSettings()">
            <span>⚙️</span>
            Configuración
        </button>
    </div>

    <!-- Modal de Configuración -->
    <div class="settings-modal" [class.show]="showSettings" *ngIf="showSettings">
        <div class="settings-overlay" (click)="closeSettings()"></div>
        <div class="settings-content">
            <div class="settings-header">
                <h2 class="settings-title">🎨 Personalizar Apariencia</h2>
                <button class="close-btn" (click)="closeSettings()">&times;</button>
            </div>
            
            <div class="settings-body">
                <h3 class="section-title">Temas Predefinidos</h3>
                <div class="theme-grid">
                    <div class="theme-option" 
                         *ngFor="let theme of themes; let i = index"
                         [class.active]="currentTheme === theme.config"
                         (click)="selectTheme(theme.config)">
                        <div class="theme-preview" [style.background]="theme.config.background">
                            <div class="theme-preview-card" [style.backgroundColor]="theme.config.cardColor">
                                <div class="theme-preview-text" [style.color]="theme.config.textColor">Aa</div>
                                <div class="theme-preview-accent" [style.backgroundColor]="theme.config.accentColor"></div>
                            </div>
                        </div>
                        <span class="theme-name">{{ theme.name }}</span>
                    </div>
                </div>
                
                <div class="settings-actions">
                    <button class="reset-btn" (click)="resetToDefault()">
                        <span>🔄</span>
                        Restablecer Predeterminado
                    </button>
                </div>
            </div>
        </div>
    </div>

    <br><br><br>
</div>