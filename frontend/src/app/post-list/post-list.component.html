<div class="category-posts-container" *ngIf="!isLoading; else cargando">
  <!-- Breadcrumb + Header -->
  <div class="category-header">
    <div class="category-breadcrumb">
      <a routerLink="/" class="breadcrumb-link">Foro</a>
      <span class="breadcrumb-separator">â€º</span>
      <a routerLink="/categorias" class="breadcrumb-link">CategorÃ­as</a>
      <span class="breadcrumb-separator">â€º</span>
      <span>Publicaciones</span>
    </div>

    <div class="category-info">
      <div class="category-icon">ğŸ“‚</div>
      <div class="category-details">
        <h1>{{ nombreCategoria }} - Publicaciones</h1>
        <p class="category-description">
          ExplorÃ¡ las publicaciones recientes de esta categorÃ­a y sumate a la conversaciÃ³n.
        </p>
      </div>
    </div>
  </div>

  <!-- Filtros -->
  <div class="posts-actions">
    <button class="create-post-btn" [routerLink]="['/main-layout/create-post']" [queryParams]="{ categoria: idCategoria }">
      <span>â•</span> Crear Nueva PublicaciÃ³n
    </button>

    <div class="posts-filter">
      <select class="filter-select" disabled>
        <option value="recent">MÃ¡s recientes</option>
      </select>
      <select class="filter-select" disabled>
        <option value="all">Todos los posts</option>
      </select>
    </div>
  </div>

  <!-- Lista de publicaciones -->
  <div *ngIf="posts.length > 0; else sinPosts" class="posts-list">
    <div class="post-card" *ngFor="let post of posts">
      <div class="post-header">
        <a [routerLink]="['/main-layout/post', post.id_post]" class="post-link">
          <div class="post-main-info">
            <h3 class="post-title">{{ post.titulo }}</h3>
            <p class="post-preview">{{ post.contenido }}</p>
          </div>
        </a>
      </div>

      <div class="post-stats d-flex justify-content-between align-items-center">
        <div class="post-time">
          <span>ğŸ•</span>
          <span>Publicado el: {{ post.fecha_creacion | date:'dd/MM/yyyy' }}</span>
        </div>

        <!-- BotÃ³n Eliminar -->
        <button 
          *ngIf="userRole === 'admin' || userId === post.id_usuario"
          (click)="eliminarPost(post.id_post)"
          class="btn btn-danger btn-sm">
          ğŸ—‘ï¸ Eliminar publicaciÃ³n
        </button>
      </div>
    </div>
  </div>

  <!-- BotÃ³n Cargar MÃ¡s -->
  <button class="load-more-btn" disabled>Cargar mÃ¡s posts</button>
</div>

<!-- Loader -->
<ng-template #cargando>
  <div class="loader-container">
    <div class="loader"></div>
  </div>
</ng-template>

<!-- Sin posts -->
<ng-template #sinPosts>
  <p class="text-muted">AÃºn no hay publicaciones en esta categorÃ­a.</p>
</ng-template>
